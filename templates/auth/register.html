{% extends "base.html" %}

{% block title %}–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –ö–æ–ª—ë—Å–∏–∫–∏{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h4>üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h4>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="mb-3">
                        <label for="username" class="form-label">üë§ –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                        <input type="text" class="form-control" id="username" name="username" required 
                               placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" minlength="3" maxlength="50">
                        <div class="form-text">–û—Ç 3 –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤. –ë—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</div>
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label">üîí –ü–∞—Ä–æ–ª—å</label>
                        <input type="password" class="form-control" id="password" name="password" required 
                               placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" minlength="6">
                        <div class="form-text">–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤</div>
                    </div>
                    <div class="mb-3">
                        <label for="password_confirm" class="form-label">üîí –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                        <input type="password" class="form-control" id="password_confirm" name="password_confirm" required 
                               placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                        <div class="form-text">–ü–∞—Ä–æ–ª–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å</div>
                    </div>
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-success">‚úÖ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                        <a href="{{ url_for('auth.login_page') }}" class="btn btn-outline-primary">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏</a>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="card mt-3">
            <div class="card-body">
                <h6>üéÅ –ë–æ–Ω—É—Å –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</h6>
                <p class="text-success mb-0">–ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç <strong>500,000 —Ä—É–±.</strong> –Ω–∞ —Å—á–µ—Ç!</p>
            </div>
        </div>
    </div>
</div>

<script>
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
document.addEventListener('DOMContentLoaded', function() {
    const password = document.getElementById('password');
    const passwordConfirm = document.getElementById('password_confirm');
    const form = document.querySelector('form');
    
    function checkPasswords() {
        if (password.value !== passwordConfirm.value) {
            passwordConfirm.setCustomValidity('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç');
        } else {
            passwordConfirm.setCustomValidity('');
        }
    }
    
    password.addEventListener('input', checkPasswords);
    passwordConfirm.addEventListener('input', checkPasswords);
    
    form.addEventListener('submit', function(e) {
        checkPasswords();
        if (!passwordConfirm.checkValidity()) {
            e.preventDefault();
        }
    });
});
</script>
{% endblock %}